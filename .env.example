# ================================
# ekaya-engine Environment Variables
# ================================
# These variables override settings in config.yaml
# Copy this file to .env and set values as needed
#
# For local development:
# 1. cp .env.example .env
# 2. Set PGPASSWORD (required for database access)
# 3. Keep other settings as defaults for local dev

# ================================
# Server Configuration
# ================================
# PORT: Server listen port (default: 3443)
# export PORT=3443

# BIND_ADDR: Network binding (default: 127.0.0.1, use 0.0.0.0 for external access)
# export BIND_ADDR=0.0.0.0

# BASE_URL: External URL for OAuth redirects (auto-derived as http://localhost:$PORT if not set)
# Only set when behind a load balancer or on an internal server
# export BASE_URL=http://my-server.internal:3443

# export ENVIRONMENT=local

# ================================
# Authentication Configuration
# ================================
# Disable JWT verification for local development
export AUTH_ENABLE_VERIFICATION=false

# JWKS endpoints mapping (format: "issuer1=url1,issuer2=url2")
# export JWKS_ENDPOINTS="https://data.dev.ekaya.ai=https://data.dev.ekaya.ai/.well-known/jwks.json"

# ================================
# Database Configuration (PostgreSQL)
# ================================
# Database password (REQUIRED - set this for your local PostgreSQL)
export PGPASSWORD=

# Optional overrides (defaults work for most local setups)
# export PGHOST=localhost
# export PGPORT=5432
# export PGUSER=ekaya
# export PGDATABASE=ekaya_engine
# export PGMAX_CONNECTIONS=25
# export PGMAX_IDLE_CONNS=5
# export PGTYPE=postgres

# SSL mode: use "disable" for local, "require" for production
# export PGSSLMODE=disable

# ================================
# Credential Encryption (REQUIRED)
# ================================
# 32-byte key for encrypting project secrets (AI keys, database passwords, etc.)
# Generate with: openssl rand -base64 32
# Server will fail to start if this is not set.
# NOTE: this cannot change once projects are created as it will invalidate the credentials
export PROJECT_CREDENTIALS_KEY=

